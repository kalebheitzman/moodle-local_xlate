{"version":3,"file":"edit.min.js","sources":["../src/edit.js"],"sourcesContent":["// AMD module providing an inline translation inspector overlay for captured keys.\n// Displays a dashed highlight plus controls to jump to Manage UI while browsing.\n/* eslint-disable jsdoc/require-jsdoc */\ndefine([], function() {\n    var ATTR_KEY_PREFIX = 'data-xlate-key-';\n    var ATTRIBUTE_TYPES = ['content', 'placeholder', 'title', 'alt', 'aria-label'];\n    var SELECTOR = ATTRIBUTE_TYPES.map(function(attr) {\n        return '[' + ATTR_KEY_PREFIX + attr + ']';\n    }).join(',');\n    var STICKY_PADDING = 24;\n    var STATE = {\n        config: {\n            enabled: false,\n            manageUrl: '',\n            courseid: 0,\n            strings: {}\n        },\n        active: false,\n        currentElement: null,\n        currentAttribute: null,\n        attributes: []\n    };\n    var NODES = {\n        toggle: null,\n        highlight: null,\n        toolbar: null,\n        callout: null\n    };\n\n    function ready(fn) {\n        if (document.readyState === 'loading') {\n            document.addEventListener('DOMContentLoaded', fn);\n            return;\n        }\n        fn();\n    }\n\n    function init(userConfig) {\n        if (typeof window === 'undefined' || typeof document === 'undefined') {\n            return;\n        }\n        STATE.config = merge(STATE.config, userConfig || {});\n        if (!STATE.config.enabled) {\n            return;\n        }\n        ready(function() {\n            injectStyles();\n            buildToggle();\n        });\n    }\n\n    function merge(base, overrides) {\n        var result = {};\n        var key;\n        for (key in base) {\n            if (Object.prototype.hasOwnProperty.call(base, key)) {\n                if (typeof base[key] === 'object' && base[key] !== null && !Array.isArray(base[key])) {\n                    result[key] = merge(base[key], {});\n                } else {\n                    result[key] = base[key];\n                }\n            }\n        }\n        for (key in overrides) {\n            if (!Object.prototype.hasOwnProperty.call(overrides, key)) {\n                continue;\n            }\n            var val = overrides[key];\n            if (val && typeof val === 'object' && !Array.isArray(val)) {\n                result[key] = merge(result[key] || {}, val);\n            } else {\n                result[key] = val;\n            }\n        }\n        return result;\n    }\n\n    function injectStyles() {\n        if (document.querySelector('style[data-xlate-style=\"inspector\"]')) {\n            return;\n        }\n        var style = document.createElement('style');\n        style.setAttribute('data-xlate-style', 'inspector');\n        style.textContent = '' +\n            '.xlate-inspector-toggle{' +\n            'position:fixed;' +\n            'bottom:1.5rem;' +\n            'right:1.5rem;' +\n            'z-index:2147482000;' +\n            'padding:0.65rem 1.1rem;' +\n            'border-radius:999px;' +\n            'box-shadow:0 10px 30px rgba(13,110,253,.25);' +\n            '}' +\n            '.xlate-inspector-toggle.is-active{' +\n            'background:#0b5ed7;' +\n            '}' +\n            '.xlate-inspector-highlight{' +\n            'position:fixed;' +\n            'border:2px dashed #0d6efd;' +\n            'border-radius:0.75rem;' +\n            'pointer-events:none;' +\n            'z-index:2147481000;' +\n            'box-shadow:0 0 0 2px rgba(13,110,253,.2);' +\n            'display:none;' +\n            '}' +\n            '.xlate-inspector-highlight.is-visible{' +\n            'display:block;' +\n            '}' +\n            '.xlate-inspector-toolbar,' +\n            '.xlate-inspector-callout{' +\n            'position:fixed;' +\n            'z-index:2147481200;' +\n            'background:#0d1117;' +\n            'color:#f0f6ff;' +\n            'border-radius:0.6rem;' +\n            'padding:0.75rem;' +\n            'box-shadow:0 12px 45px rgba(15,23,42,.35);' +\n            'display:none;' +\n            'max-width:420px;' +\n            'font-size:0.875rem;' +\n            '}' +\n            '.xlate-inspector-toolbar{' +\n            'display:flex;' +\n            'flex-wrap:wrap;' +\n            'gap:0.5rem;' +\n            'align-items:center;' +\n            '}' +\n            '.xlate-inspector-toolbar.is-visible,' +\n            '.xlate-inspector-callout.is-visible{' +\n            'display:flex;' +\n            'flex-direction:column;' +\n            '}' +\n            '.xlate-inspector-attributes{' +\n            'display:flex;' +\n            'gap:0.25rem;' +\n            'flex-wrap:wrap;' +\n            '}' +\n            '.xlate-inspector-attr{' +\n            'background:rgba(255,255,255,.08);' +\n            'border:none;' +\n            'color:inherit;' +\n            'padding:0.2rem 0.75rem;' +\n            'border-radius:999px;' +\n            'font-size:0.75rem;' +\n            'cursor:pointer;' +\n            '}' +\n            '.xlate-inspector-attr.is-active{' +\n            'background:#1f6feb;' +\n            '}' +\n            '.xlate-inspector-meta{' +\n            'display:flex;' +\n            'gap:0.4rem;' +\n            'flex-wrap:wrap;' +\n            'align-items:center;' +\n            'margin-top:0.35rem;' +\n            '}' +\n            '.xlate-inspector-key{' +\n            'font-family:monospace;' +\n            'background:rgba(255,255,255,.08);' +\n            'padding:0.1rem 0.4rem;' +\n            'border-radius:0.35rem;' +\n            '}' +\n            '.xlate-inspector-action{' +\n            'background:rgba(255,255,255,.08);' +\n            'border:none;' +\n            'color:inherit;' +\n            'padding:0.35rem 0.75rem;' +\n            'border-radius:0.45rem;' +\n            'font-size:0.75rem;' +\n            'cursor:pointer;' +\n            'text-decoration:none;' +\n            '}' +\n            '.xlate-inspector-action:hover{' +\n            'background:rgba(255,255,255,.18);' +\n            '}' +\n            '.xlate-inspector-callout{' +\n            'font-size:0.85rem;' +\n            'gap:0.35rem;' +\n            '}' +\n            '.xlate-inspector-callout-label{' +\n            'font-weight:600;' +\n            'text-transform:uppercase;' +\n            'letter-spacing:0.04em;' +\n            'font-size:0.7rem;' +\n            'color:#93c5fd;' +\n            '}' +\n            '.xlate-inspector-callout-text{' +\n            'max-height:10rem;' +\n            'overflow:auto;' +\n            'white-space:pre-wrap;' +\n            '}' +\n            '.xlate-inspector-toast{' +\n            'position:fixed;' +\n            'bottom:4.75rem;' +\n            'right:1.5rem;' +\n            'background:#0d6efd;' +\n            'color:#fff;' +\n            'padding:0.55rem 1rem;' +\n            'border-radius:0.45rem;' +\n            'box-shadow:0 10px 30px rgba(13,110,253,.35);' +\n            'opacity:0;' +\n            'pointer-events:none;' +\n            'transition:opacity .2s ease;' +\n            'z-index:2147483000;' +\n            '}' +\n            '.xlate-inspector-toast.is-visible{' +\n            'opacity:1;' +\n            '}' +\n            '.xlate-inspector-toggle:focus-visible,' +\n            '.xlate-inspector-attr:focus-visible,' +\n            '.xlate-inspector-action:focus-visible{' +\n            'outline:2px solid #facc15;' +\n            'outline-offset:2px;' +\n            '}' +\n            '.xlate-inspector-empty{' +\n            'opacity:0.6;' +\n            '}';\n        document.head.appendChild(style);\n    }\n\n    function buildToggle() {\n        if (NODES.toggle) {\n            return;\n        }\n        var button = document.createElement('button');\n        button.type = 'button';\n        button.className = 'btn btn-primary xlate-inspector-toggle';\n        button.textContent = STATE.config.strings.toggleInactive || 'Enable inspector';\n        button.setAttribute('aria-pressed', 'false');\n        button.setAttribute('aria-label', STATE.config.strings.toggleLabel || 'Translation inspector');\n        button.title = STATE.config.strings.toggleHint || '';\n        button.addEventListener('click', function(event) {\n            event.preventDefault();\n            if (STATE.active) {\n                deactivateInspector();\n            } else {\n                activateInspector();\n            }\n        });\n        NODES.toggle = button;\n        document.body.appendChild(button);\n    }\n\n    function activateInspector() {\n        if (STATE.active) {\n            return;\n        }\n        STATE.active = true;\n        document.addEventListener('pointermove', handlePointerMove, true);\n        document.addEventListener('pointerleave', handlePointerLeave, true);\n        window.addEventListener('scroll', handleViewportChange, true);\n        window.addEventListener('resize', handleViewportChange, true);\n        document.addEventListener('keydown', handleKeydown, true);\n        document.documentElement.classList.add('xlate-inspector-active');\n        updateToggleVisuals();\n        showToast(STATE.config.strings.toggleActive || 'Inspector enabled');\n    }\n\n    function deactivateInspector() {\n        if (!STATE.active) {\n            return;\n        }\n        STATE.active = false;\n        document.removeEventListener('pointermove', handlePointerMove, true);\n        document.removeEventListener('pointerleave', handlePointerLeave, true);\n        window.removeEventListener('scroll', handleViewportChange, true);\n        window.removeEventListener('resize', handleViewportChange, true);\n        document.removeEventListener('keydown', handleKeydown, true);\n        document.documentElement.classList.remove('xlate-inspector-active');\n        updateToggleVisuals();\n        clearCurrent();\n    }\n\n    function updateToggleVisuals() {\n        if (!NODES.toggle) {\n            return;\n        }\n        var activeText = STATE.config.strings.toggleActive || 'Inspector enabled';\n        var inactiveText = STATE.config.strings.toggleInactive || 'Enable inspector';\n        if (STATE.active) {\n            NODES.toggle.classList.add('is-active');\n            NODES.toggle.textContent = activeText;\n            NODES.toggle.setAttribute('aria-pressed', 'true');\n        } else {\n            NODES.toggle.classList.remove('is-active');\n            NODES.toggle.textContent = inactiveText;\n            NODES.toggle.setAttribute('aria-pressed', 'false');\n        }\n    }\n\n    function handlePointerMove(event) {\n        if (!STATE.active) {\n            return;\n        }\n        if (isOverlayNode(event.target)) {\n            return;\n        }\n        var candidate = event.target.closest ? event.target.closest(SELECTOR) : null;\n        if (!candidate) {\n            if (isWithinStickyZone(event)) {\n                return;\n            }\n            clearCurrent();\n            return;\n        }\n        if (STATE.currentElement === candidate) {\n            return;\n        }\n        setCurrentElement(candidate);\n    }\n\n    function handlePointerLeave(event) {\n        if (!STATE.active) {\n            return;\n        }\n        if (isOverlayNode(event.relatedTarget)) {\n            return;\n        }\n        if (!event.relatedTarget) {\n            clearCurrent();\n        }\n    }\n\n    function handleViewportChange() {\n        if (!STATE.active || !STATE.currentElement) {\n            return;\n        }\n        refreshOverlay();\n    }\n\n    function handleKeydown(event) {\n        if (!STATE.active) {\n            return;\n        }\n        if (event.key === 'Escape' || event.key === 'Esc') {\n            event.preventDefault();\n            deactivateInspector();\n        }\n    }\n\n    function isOverlayNode(node) {\n        if (!node) {\n            return false;\n        }\n        if (node === NODES.toolbar || node === NODES.callout || node === NODES.toggle) {\n            return true;\n        }\n        if (!node.closest) {\n            return false;\n        }\n        return !!(\n            node.closest('.xlate-inspector-toolbar') ||\n            node.closest('.xlate-inspector-callout') ||\n            node.closest('.xlate-inspector-toggle')\n        );\n    }\n\n    function isWithinStickyZone(event) {\n        if (!STATE.currentElement) {\n            return false;\n        }\n        if (typeof event.clientX !== 'number' || typeof event.clientY !== 'number') {\n            return false;\n        }\n        var rect = STATE.currentElement.getBoundingClientRect();\n        if (!rect) {\n            return false;\n        }\n        var x = event.clientX;\n        var y = event.clientY;\n        return x >= rect.left - STICKY_PADDING &&\n            x <= rect.right + STICKY_PADDING &&\n            y >= rect.top - STICKY_PADDING &&\n            y <= rect.bottom + STICKY_PADDING;\n    }\n\n    function setCurrentElement(element) {\n        STATE.currentElement = element;\n        STATE.attributes = collectAttributes(element);\n        if (!STATE.attributes.length) {\n            clearCurrent();\n            return;\n        }\n        if (!STATE.currentAttribute) {\n            STATE.currentAttribute = STATE.attributes[0].type;\n        }\n        if (!attributeExists(STATE.currentAttribute)) {\n            STATE.currentAttribute = STATE.attributes[0].type;\n        }\n        refreshOverlay();\n    }\n\n    function attributeExists(type) {\n        for (var i = 0; i < STATE.attributes.length; i++) {\n            if (STATE.attributes[i].type === type) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function collectAttributes(element) {\n        var attrs = [];\n        for (var i = 0; i < ATTRIBUTE_TYPES.length; i++) {\n            var attrType = ATTRIBUTE_TYPES[i];\n            var keyAttr = ATTR_KEY_PREFIX + attrType;\n            var keyValue = element.getAttribute(keyAttr);\n            if (!keyValue) {\n                continue;\n            }\n            var preview = extractSourcePreview(element, attrType, keyValue);\n            if (!preview) {\n                preview = extractValue(element, attrType);\n            }\n            attrs.push({\n                type: attrType,\n                key: keyValue,\n                preview: preview\n            });\n        }\n        return attrs;\n    }\n\n    function extractValue(element, attrType) {\n        var value = '';\n        if (attrType === 'content') {\n            value = (element.innerText || element.textContent || '').trim();\n        } else {\n            value = (element.getAttribute(attrType) || '').trim();\n        }\n        return value;\n    }\n\n    function extractSourcePreview(element, attrType, keyValue) {\n        var attrName = 'data-xlate-original-' + attrType;\n        var value = '';\n        if (element && element.hasAttribute(attrName)) {\n            value = element.getAttribute(attrName) || '';\n        }\n        if (!value && keyValue && window.__XLATE__ && window.__XLATE__.sourceStrings) {\n            if (Object.prototype.hasOwnProperty.call(window.__XLATE__.sourceStrings, keyValue)) {\n                value = window.__XLATE__.sourceStrings[keyValue] || '';\n            }\n        }\n        if (!value) {\n            return '';\n        }\n        if (attrType === 'content') {\n            value = stripHtml(value);\n        }\n        value = value.trim();\n        return value;\n    }\n\n    function stripHtml(value) {\n        if (!value || value.indexOf('<') === -1) {\n            return value || '';\n        }\n        var div = document.createElement('div');\n        div.innerHTML = value;\n        return (div.textContent || div.innerText || '').trim();\n    }\n\n    function refreshOverlay() {\n        if (!STATE.currentElement) {\n            clearCurrent();\n            return;\n        }\n        var rect = STATE.currentElement.getBoundingClientRect();\n        var highlight = ensureNode('highlight');\n        highlight.style.left = rect.left + 'px';\n        highlight.style.top = rect.top + 'px';\n        highlight.style.width = Math.max(rect.width, 1) + 'px';\n        highlight.style.height = Math.max(rect.height, 1) + 'px';\n        highlight.classList.add('is-visible');\n        renderToolbar(rect);\n        renderCallout(rect);\n    }\n\n    function ensureNode(key) {\n        if (NODES[key]) {\n            return NODES[key];\n        }\n        var node;\n        if (key === 'highlight') {\n            node = document.createElement('div');\n            node.className = 'xlate-inspector-highlight';\n        } else if (key === 'toolbar') {\n            node = document.createElement('div');\n            node.className = 'xlate-inspector-toolbar';\n        } else if (key === 'callout') {\n            node = document.createElement('div');\n            node.className = 'xlate-inspector-callout';\n        }\n        document.body.appendChild(node);\n        NODES[key] = node;\n        return node;\n    }\n\n    function renderToolbar(rect) {\n        var toolbar = ensureNode('toolbar');\n        toolbar.innerHTML = '';\n        var attributes = document.createElement('div');\n        attributes.className = 'xlate-inspector-attributes';\n        STATE.attributes.forEach(function(attr) {\n            var btn = document.createElement('button');\n            btn.type = 'button';\n            btn.className = 'xlate-inspector-attr';\n            if (attr.type === STATE.currentAttribute) {\n                btn.classList.add('is-active');\n            }\n            btn.textContent = getAttributeLabel(attr.type);\n            btn.dataset.xlateAttr = attr.type;\n            btn.addEventListener('click', function(event) {\n                event.preventDefault();\n                STATE.currentAttribute = attr.type;\n                refreshOverlay();\n            });\n            attributes.appendChild(btn);\n        });\n        toolbar.appendChild(attributes);\n\n        var meta = document.createElement('div');\n        meta.className = 'xlate-inspector-meta';\n        var current = getCurrentAttribute();\n        var keyLabel = document.createElement('span');\n        keyLabel.className = 'xlate-inspector-key';\n        keyLabel.textContent = current ? current.key : STATE.config.strings.noKey || '';\n        meta.appendChild(keyLabel);\n\n        var copyBtn = document.createElement('button');\n        copyBtn.type = 'button';\n        copyBtn.className = 'xlate-inspector-action';\n        copyBtn.textContent = STATE.config.strings.copyKey || 'Copy key';\n        copyBtn.addEventListener('click', function(event) {\n            event.preventDefault();\n            if (current && current.key) {\n                copyToClipboard(current.key);\n            }\n        });\n        meta.appendChild(copyBtn);\n\n        var manageLink = document.createElement('a');\n        manageLink.className = 'xlate-inspector-action';\n        manageLink.textContent = STATE.config.strings.openManage || 'Open manage UI';\n        manageLink.href = buildManageUrl(current ? current.key : '');\n        manageLink.target = '_blank';\n        manageLink.rel = 'noopener noreferrer';\n        meta.appendChild(manageLink);\n        toolbar.appendChild(meta);\n\n        toolbar.classList.add('is-visible');\n        var top = rect.top - toolbar.offsetHeight - 12;\n        if (top < 8) {\n            top = rect.bottom + 12;\n        }\n        var left = rect.left;\n        var maxLeft = window.innerWidth - toolbar.offsetWidth - 12;\n        if (left > maxLeft) {\n            left = Math.max(maxLeft, 8);\n        }\n        if (left < 8) {\n            left = 8;\n        }\n        toolbar.style.left = left + 'px';\n        toolbar.style.top = top + 'px';\n    }\n\n    function renderCallout(rect) {\n        var callout = ensureNode('callout');\n        callout.innerHTML = '';\n        var current = getCurrentAttribute();\n        if (!current) {\n            callout.classList.remove('is-visible');\n            return;\n        }\n        var label = document.createElement('div');\n        label.className = 'xlate-inspector-callout-label';\n        label.textContent = getAttributeLabel(current.type);\n        callout.appendChild(label);\n        var text = document.createElement('div');\n        text.className = 'xlate-inspector-callout-text';\n        var preview = current.preview || STATE.config.strings.emptyValue || 'No value captured';\n        if (!current.preview) {\n            text.classList.add('xlate-inspector-empty');\n        }\n        text.textContent = preview;\n        callout.appendChild(text);\n        callout.classList.add('is-visible');\n        var top = rect.bottom + 12;\n        var left = rect.left;\n        var maxLeft = window.innerWidth - callout.offsetWidth - 12;\n        if (left > maxLeft) {\n            left = Math.max(maxLeft, 8);\n        }\n        if (left < 8) {\n            left = 8;\n        }\n        callout.style.left = left + 'px';\n        callout.style.top = top + 'px';\n    }\n\n    function getCurrentAttribute() {\n        for (var i = 0; i < STATE.attributes.length; i++) {\n            if (STATE.attributes[i].type === STATE.currentAttribute) {\n                return STATE.attributes[i];\n            }\n        }\n        return STATE.attributes[0] || null;\n    }\n\n    function getAttributeLabel(type) {\n        if (!STATE.config.strings) {\n            return type;\n        }\n        if (type === 'content') {\n            return STATE.config.strings.attributeContent || 'Text';\n        }\n        if (type === 'placeholder') {\n            return STATE.config.strings.attributePlaceholder || 'Placeholder';\n        }\n        if (type === 'title') {\n            return STATE.config.strings.attributeTitle || 'Title';\n        }\n        if (type === 'alt') {\n            return STATE.config.strings.attributeAlt || 'Alt text';\n        }\n        if (type === 'aria-label') {\n            return STATE.config.strings.attributeAria || 'Aria label';\n        }\n        return type;\n    }\n\n    function buildManageUrl(key) {\n        var base = STATE.config.manageUrl || '/local/xlate/manage.php';\n        var resolved;\n        try {\n            resolved = new URL(base, window.location.origin);\n        } catch (e) {\n            resolved = document.createElement('a');\n            resolved.href = base;\n            return resolved.href;\n        }\n        if (STATE.config.courseid) {\n            resolved.searchParams.set('courseid', STATE.config.courseid);\n        }\n        if (key) {\n            resolved.searchParams.set('search', key);\n        }\n        return resolved.toString();\n    }\n\n    function copyToClipboard(value) {\n        if (!value) {\n            return;\n        }\n        if (navigator.clipboard && navigator.clipboard.writeText) {\n            navigator.clipboard.writeText(value).then(function() {\n                showToast(STATE.config.strings.copied || 'Key copied');\n            }).catch(function() {\n                fallbackCopy(value);\n            });\n            return;\n        }\n        fallbackCopy(value);\n    }\n\n    function fallbackCopy(value) {\n        var temp = document.createElement('textarea');\n        temp.value = value;\n        temp.setAttribute('readonly', 'readonly');\n        temp.style.position = 'absolute';\n        temp.style.left = '-9999px';\n        document.body.appendChild(temp);\n        temp.select();\n        try {\n            document.execCommand('copy');\n            showToast(STATE.config.strings.copied || 'Key copied');\n        } catch (e) {\n            console.warn('[local_xlate] Unable to copy key', e); // eslint-disable-line no-console\n        }\n        document.body.removeChild(temp);\n    }\n\n    function showToast(message) {\n        var toast = document.querySelector('.xlate-inspector-toast');\n        if (!toast) {\n            toast = document.createElement('div');\n            toast.className = 'xlate-inspector-toast';\n            document.body.appendChild(toast);\n        }\n        toast.textContent = message;\n        toast.classList.add('is-visible');\n        window.clearTimeout(showToast.timeout);\n        showToast.timeout = window.setTimeout(function() {\n            toast.classList.remove('is-visible');\n        }, 2000);\n    }\n\n    function clearCurrent() {\n        STATE.currentElement = null;\n        STATE.attributes = [];\n        STATE.currentAttribute = null;\n        hideNode('highlight');\n        hideNode('toolbar');\n        hideNode('callout');\n    }\n\n    function hideNode(key) {\n        var node = NODES[key];\n        if (!node) {\n            return;\n        }\n        node.classList.remove('is-visible');\n    }\n\n    return {\n        init: init\n    };\n});\n"],"names":["define","ATTRIBUTE_TYPES","SELECTOR","map","attr","join","STATE","config","enabled","manageUrl","courseid","strings","active","currentElement","currentAttribute","attributes","NODES","toggle","highlight","toolbar","callout","merge","base","overrides","key","result","Object","prototype","hasOwnProperty","call","Array","isArray","val","deactivateInspector","document","removeEventListener","handlePointerMove","handlePointerLeave","window","handleViewportChange","handleKeydown","documentElement","classList","remove","updateToggleVisuals","clearCurrent","activeText","toggleActive","inactiveText","toggleInactive","add","textContent","setAttribute","event","isOverlayNode","target","candidate","closest","element","attrs","i","length","attrType","keyAttr","keyValue","getAttribute","preview","extractSourcePreview","extractValue","push","type","collectAttributes","attributeExists","refreshOverlay","setCurrentElement","clientX","clientY","rect","getBoundingClientRect","x","y","left","right","top","bottom","isWithinStickyZone","relatedTarget","preventDefault","node","innerText","trim","attrName","value","hasAttribute","__XLATE__","sourceStrings","indexOf","div","createElement","innerHTML","stripHtml","ensureNode","style","width","Math","max","height","className","forEach","btn","getAttributeLabel","dataset","xlateAttr","addEventListener","appendChild","meta","current","getCurrentAttribute","keyLabel","noKey","copyBtn","copyKey","navigator","clipboard","writeText","then","showToast","copied","catch","fallbackCopy","copyToClipboard","manageLink","openManage","href","resolved","URL","location","origin","e","searchParams","set","toString","buildManageUrl","rel","offsetHeight","maxLeft","innerWidth","offsetWidth","renderToolbar","label","text","emptyValue","renderCallout","body","attributeContent","attributePlaceholder","attributeTitle","attributeAlt","attributeAria","temp","position","select","execCommand","console","warn","removeChild","message","toast","querySelector","clearTimeout","timeout","setTimeout","hideNode","init","userConfig","fn","head","injectStyles","button","toggleLabel","title","toggleHint","buildToggle","readyState"],"mappings":"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"}